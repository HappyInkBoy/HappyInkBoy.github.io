<html>
<!-- Published to github pages at https://happyinkboy.github.io/bpn/index.html -->
<head>
    <title>BPN</title>
    <meta charset="utf-8">
    <script type="text/javascript"
        src="./pi.js">
    </script>
    <script>
      // This code comes from this stack overflow post: https://stackoverflow.com/questions/4712310/javascript-how-to-detect-if-a-word-is-highlighted
      function getSelectedText() {
        var text = "";
        if (typeof window.getSelection != "undefined") {
          text = window.getSelection().toString();
        } else if (typeof document.selection != "undefined" && document.selection.type == "Text") {
          text = document.selection.createRange().text;
        }
        return text;
      }

      contact_list = [];

      function doSomethingWithSelectedText() {
        let regex = /\d/;
        var selectedText = getSelectedText();
        if (selectedText) {
          alert("Got selected text " + selectedText);
        }
        if (regex.test(selectedText)) {
          console.log("NUMBA")
          contact_list.push(selectedText)
          console.log(contact_list)
        } else if (selectedText != "") {
          console.log("No numba")
        }
      }
      
      function showPi() {
        piNode = document.getElementById("pi_display")
        buttonNode = document.getElementById("loading_button")
        piNode.hidden = false
        buttonNode.hidden = true
      }

document.onmouseup = doSomethingWithSelectedText;
document.onkeyup = doSomethingWithSelectedText;
    </script>
</head>

<link rel="stylesheet" href="index.css?v=1">

<body>
  <h1 class="title" id="welcome">Welcome to NORDBPN</h1>
  <p class="title" id="acronym">(New Ontario Really Delicious Baked Phone Numbers)</p>
  <p class="title" id="login">To log in, please input your phone number by highlighting it:</p>
  <div id="loading_button" onclick="showPi()">Click me</div>
  <div id="pi_display" hidden="true"></div>

</body>

<script>
  var pi_div = document.getElementById("pi_display");
  pi_div.innerHTML = PI;
</script>

</html>